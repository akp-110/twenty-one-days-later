<h1>My Groups</h1>

<% if @groups.any? %>
  <ul class="list-group">
    <% @groups.each do |group| %>
      <li class="list-group-item">
    <h3><%= link_to group.name, group_path(group), class: "text-primary" %></h3>


        <!-- Show group members -->
        <p><strong>Members:</strong>
          <% if group.members.any? %>
            <ul>
              <% group.members.each do |member| %>
                <li><%= member.email %></li> <!-- Or member.name if available -->
              <% end %>
            </ul>
          <% else %>
            <em>No members yet.</em>
          <% end %>
        </p>

        <!-- Show current user's status
        <% if group.members.include?(current_user) %>
           <p class="text-success">✅ You’re already a member</p>
        <% else %>
          <%= button_to "Join Group", group_group_memberships_path(group), method: :post, class: "btn btn-sm btn-outline-primary" %>
        <% end %>-->
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No groups found.</p>
<% end %>
